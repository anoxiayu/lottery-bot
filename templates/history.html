<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å†å²æŸ¥è¯¢</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body { background-color: #f8f9fa; max-width: 600px; margin: 0 auto; padding-bottom: 30px; }
        .ball { display: inline-block; width: 24px; height: 24px; line-height: 24px; text-align: center; border-radius: 50%; font-size: 12px; color: #eee; background: #ccc; margin-right: 2px;}
        .hit-r { background: #dc3545; color: #fff; font-weight: bold; }
        .hit-b { background: #0d6efd; color: #fff; font-weight: bold; }
    </style>
</head>
<body>
<div class="container mt-3">
    <div class="d-flex justify-content-between align-items-center mb-3">
        <a href="/" class="btn btn-sm btn-outline-secondary">â† è¿”å›</a>
        <h6 class="m-0 fw-bold">æŸ¥è¯¢ç»“æœ</h6>
        <a href="/push_history/{{ ticket.id }}" class="btn btn-sm btn-success">ğŸ“² æ¨é€æ±‡æ€»</a>
    </div>
    <div class="card shadow-sm mb-3 border-0 rounded-4">
        <div class="card-body bg-white rounded-4">
            <div class="d-flex justify-content-between">
                <span class="fw-bold text-primary">{{ ticket.note or 'è‡ªé€‰å·ç ' }}</span>
                <span class="badge bg-dark">ç´¯è®¡å¥–é‡‘: ï¿¥{{ total_prize }}</span>
            </div>
            <div class="mt-2 text-muted small">
                å·ç : <span class="text-danger fw-bold">{{ ticket.red_nums }}</span> + <span class="text-primary fw-bold">{{ ticket.blue_nums }}</span><br>
                èŒƒå›´: ç¬¬ {{ ticket.start_term }} æœŸ - ç¬¬ {{ ticket.end_term }} æœŸ
            </div>
        </div>
    </div>
    {% if history %}
        <div class="list-group shadow-sm rounded-4 border-0">
            {% for item in history %}
            <div class="list-group-item border-0 border-bottom {{ 'list-group-item-warning' if item.prize > 0 else '' }}">
                <div class="d-flex w-100 justify-content-between">
                    <small class="mb-1 fw-bold">ç¬¬ {{ item.term }} æœŸ <span class="text-muted fw-normal">({{ item.date }})</span></small>
                    {% if item.prize > 0 %}<span class="badge bg-danger">{{ item.level }} ï¿¥{{ item.prize }}</span>
                    {% else %}<span class="badge bg-light text-secondary border">æœªä¸­å¥–</span>{% endif %}
                </div>
                <div class="mt-1">
                    {% for n in item.draw_red %}<span class="ball {{ 'hit-r' if n in item.hit_reds else '' }}">{{ n }}</span>{% endfor %}
                    <span class="mx-1"></span>
                    {% for n in item.draw_blue %}<span class="ball {{ 'hit-b' if n in item.hit_blues else '' }}">{{ n }}</span>{% endfor %}
                </div>
            </div>
            {% endfor %}
        </div>
    {% else %}
        <div class="alert alert-info text-center small rounded-3 border-0 shadow-sm">æš‚æ— å¼€å¥–æ•°æ®</div>
    {% endif %}
</div>
</body>
</html>